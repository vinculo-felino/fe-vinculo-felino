(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[870],{8018:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>c});var t=r(5155),a=r(2115),n=r(5695),l=r(864),i=r(9509);let d=()=>(0,l.createBrowserClient)(i.env.NEXT_PUBLIC_SUPABASE_URL,i.env.NEXT_PUBLIC_SUPABASE_ANON_KEY);function o(){let e=(0,n.useRouter)(),s=(0,n.useSearchParams)(),[r,l]=(0,a.useState)("loading");return(0,a.useEffect)(()=>{(async()=>{var r;let t=s.get("token_hash"),a=s.get("type"),n=null!=(r=s.get("next"))?r:"/dashboard";if(t&&a){let s=d(),{error:r}=await s.auth.verifyOtp({type:a,token_hash:t});r?(l("error"),setTimeout(()=>{e.push("/error")},2e3)):(l("success"),setTimeout(()=>{e.push(n)},1500))}else l("error"),setTimeout(()=>{e.push("/error")},2e3)})()},[s,e]),(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:(0,t.jsxs)("div",{className:"w-full max-w-md rounded-lg bg-white p-8 shadow-md",children:["loading"===r&&(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"mb-4 inline-block h-12 w-12 animate-spin rounded-full border-4 border-solid border-blue-600 border-r-transparent"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Confirmando tu email..."}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"Por favor espera un momento"})]}),"success"===r&&(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"mb-4 text-green-600",children:(0,t.jsx)("svg",{className:"mx-auto h-16 w-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"\xa1Email confirmado!"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"Redirigiendo al dashboard..."})]}),"error"===r&&(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"mb-4 text-red-600",children:(0,t.jsx)("svg",{className:"mx-auto h-16 w-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Error en la confirmaci\xf3n"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"No se pudo confirmar tu email. Redirigiendo..."})]})]})})}function c(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gray-50",children:(0,t.jsx)("div",{className:"w-full max-w-md rounded-lg bg-white p-8 shadow-md",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"mb-4 inline-block h-12 w-12 animate-spin rounded-full border-4 border-solid border-blue-600 border-r-transparent"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Cargando..."})]})})}),children:(0,t.jsx)(o,{})})}},9658:(e,s,r)=>{Promise.resolve().then(r.bind(r,8018))}},e=>{var s=s=>e(e.s=s);e.O(0,[394,441,684,358],()=>s(9658)),_N_E=e.O()}]);