(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[399],{157:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(2115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:u,...m}=e;return(0,r.createElement)("svg",{ref:t,...n,width:a,height:a,stroke:s,strokeWidth:i?24*Number(o)/Number(a):o,className:l("lucide",c),...m},[...u.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),i=(e,t)=>{let s=(0,r.forwardRef)((s,n)=>{let{className:i,...c}=s;return(0,r.createElement)(o,{ref:n,iconNode:t,className:l("lucide-".concat(a(e)),i),...c})});return s.displayName="".concat(e),s}},1412:(e,t,s)=>{"use strict";s.d(t,{ProfileContent:()=>h});var r=s(5155),a=s(2115),l=s(157);let n=(0,l.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),o=(0,l.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var i=s(3349),c=s(5695);let d=(0,l.A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var u=s(5463),m=s(9323);let x=e=>{let{isOpen:t,onClose:s,onSuccess:l}=e,[n,o]=(0,a.useState)(""),[i,c]=(0,a.useState)(""),[x,h]=(0,a.useState)(""),[f,g]=(0,a.useState)(""),[p,b]=(0,a.useState)("");return t?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",onClick:s,children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-2xl w-full max-w-md relative",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("button",{onClick:s,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:(0,r.jsx)(d,{className:"w-6 h-6"})}),(0,r.jsx)("h2",{className:"text-2xl font-fredoka text-gray-800 mb-6",children:"A\xf1adir Nueva Mascota"}),(0,r.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),b(""),!n.trim())return void b("El nombre es requerido");(0,m.BI)({name:n.trim(),age:i?parseInt(i):void 0,sex:x||void 0,preferences:f.trim()||void 0}).success?(o(""),c(""),h(""),g(""),null==l||l(),s()):b("Error al agregar la mascota")},children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium font-nunito text-gray-700 mb-1",children:"Nombre *"}),(0,r.jsx)("input",{type:"text",value:n,onChange:e=>o(e.target.value),className:"w-full p-2 border border-gray-300 rounded-lg font-nunito focus:outline-none focus:ring-2 focus:ring-vf-pink",required:!0})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium font-nunito text-gray-700 mb-1",children:"Edad (a\xf1os)"}),(0,r.jsx)("input",{type:"number",value:i,onChange:e=>c(e.target.value),min:"0",className:"w-full p-2 border border-gray-300 rounded-lg font-nunito focus:outline-none focus:ring-2 focus:ring-vf-pink"})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium font-nunito text-gray-700 mb-1",children:"Sexo"}),(0,r.jsxs)("div",{className:"flex gap-4 font-nunito",children:[(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",name:"sexo",value:"macho",checked:"macho"===x,onChange:e=>h(e.target.value),className:"mr-2 text-vf-pink focus:ring-vf-pink"})," Macho"]}),(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",name:"sexo",value:"hembra",checked:"hembra"===x,onChange:e=>h(e.target.value),className:"mr-2 text-vf-pink focus:ring-vf-pink"})," Hembra"]})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium font-nunito text-gray-700 mb-1",children:"Preferencias"}),(0,r.jsx)("textarea",{value:f,onChange:e=>g(e.target.value),className:"w-full p-2 border border-gray-300 rounded-lg font-nunito focus:outline-none focus:ring-2 focus:ring-vf-pink",rows:3,placeholder:"Ej: le gusta el pollo, duerme en..."})]}),p&&(0,r.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg text-sm",children:p}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,r.jsx)("button",{type:"button",onClick:s,className:"py-2 px-6 rounded-lg font-arialRounded text-gray-600 hover:bg-gray-100 transition-colors",children:"Cancelar"}),(0,r.jsx)(u.j,{type:"submit",className:"py-2 px-6 text-base",children:"Guardar"})]})]})]})}):null},h=()=>{let[e,t]=(0,a.useState)(!1),[s,l]=(0,a.useState)([]),[d,u]=(0,a.useState)(null),h=(0,c.useRouter)(),f=()=>{let e=(0,m.HW)();if(!e)return void h.push("/auth/login");u(e),l((0,m.Rc)(e.id))};(0,a.useEffect)(()=>{f()},[]);let g=e=>{confirm("\xbfEst\xe1s seguro de que quieres eliminar esta mascota?")&&((0,m.R7)(e),f())};return(0,r.jsxs)("div",{className:"min-h-screen bg-white p-6 pb-6 lg:pb-6",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-b from-vf-pink to-[#ffb4db] rounded-[2.5rem] rounded-t-none p-8 mb-8 shadow-lg -mx-6 -mt-6 pt-12",children:[(0,r.jsx)("h1",{className:"text-4xl font-fredoka text-vf-yellow text-center mb-2",children:"Perfil"}),(0,r.jsx)("p",{className:"text-lg font-arialRounded text-white text-center",children:"Mi informaci\xf3n y mis mascotas"})]}),(0,r.jsxs)("div",{className:"max-w-3xl mx-auto px-8",children:[d&&(0,r.jsxs)("div",{className:"mb-8 p-6 bg-gradient-to-br from-vf-pink/10 to-vf-turquoise/10 rounded-[2rem] shadow-md border-2 border-vf-pink/20",children:[(0,r.jsx)("h2",{className:"font-fredoka text-2xl font-medium text-vf-purple mb-4",children:"Mi Informaci\xf3n"}),(0,r.jsxs)("div",{className:"space-y-2 font-sourceSans",children:[(0,r.jsxs)("p",{className:"text-gray-700 text-lg",children:[(0,r.jsx)("strong",{className:"text-vf-purple",children:"Nombre:"})," ",d.name]}),(0,r.jsxs)("p",{className:"text-gray-700 text-lg",children:[(0,r.jsx)("strong",{className:"text-vf-purple",children:"Email:"})," ",d.email]})]})]}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h2",{className:"font-fredoka text-3xl font-medium text-vf-purple mb-6 text-center",children:"Mis Mascotas"}),0===s.length?(0,r.jsx)("div",{className:"bg-vf-yellow/30 p-8 rounded-[2rem] text-center",children:(0,r.jsx)("p",{className:"font-sourceSans text-gray-700 text-lg",children:"A\xfan no has agregado ninguna mascota. \xa1A\xf1ade a tu primer gatito!"})}):(0,r.jsx)("div",{className:"space-y-6",children:s.map(e=>(0,r.jsx)("div",{className:"p-6 bg-vf-yellow rounded-[2rem] shadow-lg hover:shadow-xl transition-all border-2 border-vf-yellow",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-grow",children:[(0,r.jsx)("h3",{className:"font-fredoka text-2xl text-vf-purple mb-3",children:e.name}),(0,r.jsxs)("div",{className:"space-y-1 font-sourceSans text-gray-700",children:[e.age&&(0,r.jsxs)("p",{className:"text-base",children:[(0,r.jsx)("strong",{className:"text-vf-purple",children:"Edad:"})," ",e.age," a\xf1os"]}),e.sex&&(0,r.jsxs)("p",{className:"text-base",children:[(0,r.jsx)("strong",{className:"text-vf-purple",children:"Sexo:"})," ",e.sex]}),e.preferences&&(0,r.jsxs)("p",{className:"text-base mt-2",children:[(0,r.jsx)("strong",{className:"text-vf-purple",children:"Preferencias:"})," ",e.preferences]})]})]}),(0,r.jsx)("button",{onClick:()=>g(e.id),className:"ml-4 p-2 text-red-500 hover:text-white hover:bg-red-500 rounded-full transition-all","aria-label":"Eliminar mascota",children:(0,r.jsx)(n,{className:"w-6 h-6"})})]})},e.id))})]}),(0,r.jsx)("div",{className:"hidden lg:flex justify-center mb-6",children:(0,r.jsxs)("button",{onClick:()=>t(!0),className:"bg-vf-pink text-white font-fredoka font-medium text-xl py-4 px-12 rounded-3xl shadow-lg hover:bg-opacity-90 transition-colors flex items-center gap-3",children:[(0,r.jsx)(o,{className:"w-6 h-6"}),"A\xf1adir Mascota"]})}),(0,r.jsx)("div",{className:"lg:hidden mt-8",children:(0,r.jsxs)("button",{onClick:()=>{(0,m.ri)(),h.push("/")},className:"w-full flex items-center justify-center gap-3 py-4 px-6 rounded-3xl bg-red-500 text-white font-fredoka font-medium text-lg hover:bg-red-600 transition-colors shadow-lg",children:[(0,r.jsx)(i.A,{className:"w-6 h-6"}),"Cerrar sesi\xf3n"]})})]}),(0,r.jsx)("button",{onClick:()=>t(!0),className:"lg:hidden fixed bottom-20 right-6 bg-vf-pink text-white p-5 rounded-full shadow-2xl hover:bg-opacity-90 transition-all z-30 hover:scale-110","aria-label":"A\xf1adir mascota",children:(0,r.jsx)(o,{className:"w-7 h-7"})}),(0,r.jsx)(x,{isOpen:e,onClose:()=>t(!1),onSuccess:f})]})}},3349:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(157).A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},4330:(e,t,s)=>{Promise.resolve().then(s.bind(s,1412))},5463:(e,t,s)=>{"use strict";s.d(t,{j:()=>a});var r=s(5155);s(2115);let a=e=>{let{children:t,onClick:s,className:a="",type:l="button"}=e;return(0,r.jsx)("button",{type:l,onClick:s,className:"bg-vf-pink text-white font-fredoka text-lg py-3 px-10 rounded-xl shadow-lg transition duration-200 w-auto hover:bg-opacity-90 ".concat(a),children:t})}},5695:(e,t,s)=>{"use strict";var r=s(8999);s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},9323:(e,t,s)=>{"use strict";s.d(t,{BI:()=>f,HW:()=>i,R7:()=>g,Rc:()=>x,iD:()=>u,kz:()=>d,lZ:()=>p,ri:()=>m});let r="vf_users",a="vf_current_user",l="vf_pets",n=()=>{let e=localStorage.getItem(r);return e?JSON.parse(e):[]},o=e=>{localStorage.setItem(r,JSON.stringify(e))},i=()=>{let e=sessionStorage.getItem(a);return e?JSON.parse(e):null},c=e=>{e?sessionStorage.setItem(a,JSON.stringify(e)):sessionStorage.removeItem(a)},d=(e,t,s)=>{let r=n();if(r.find(t=>t.email===e))return{success:!1,error:"El correo electr\xf3nico ya est\xe1 registrado"};let a={id:crypto.randomUUID(),email:e,name:s,createdAt:new Date().toISOString()};return localStorage.setItem("vf_pwd_".concat(e),t),r.push(a),o(r),c(a),{success:!0,user:a}},u=(e,t)=>{let s=n().find(t=>t.email===e);return s?localStorage.getItem("vf_pwd_".concat(e))!==t?{success:!1,error:"Contrase\xf1a incorrecta"}:(c(s),{success:!0,user:s}):{success:!1,error:"Usuario no encontrado"}},m=()=>{c(null)},x=e=>{let t=localStorage.getItem(l),s=t?JSON.parse(t):[];return e?s.filter(t=>t.userId===e):s},h=e=>{localStorage.setItem(l,JSON.stringify(e))},f=e=>{let t=i();if(!t)return{success:!1};let s=x(),r={...e,id:crypto.randomUUID(),userId:t.id};return s.push(r),h(s),{success:!0,pet:r}},g=e=>(h(x().filter(t=>t.id!==e)),{success:!0}),p=()=>{let e=i();if(!e)return null;let t=x(e.id);return t.length>0?t[0]:null}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,684,358],()=>t(4330)),_N_E=e.O()}]);